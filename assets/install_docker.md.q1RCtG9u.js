import{_ as i,c as a,ae as e,o as t}from"./chunks/framework.ilBJtLV6.js";const c=JSON.parse('{"title":"ğŸ³ Docker éƒ¨ç½² MiaoSpeed","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"install/docker.md","filePath":"install/docker.md","lastUpdated":1755339837000}'),n={name:"install/docker.md"};function h(l,s,p,k,d,r){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="ğŸ³-docker-éƒ¨ç½²-miaospeed" tabindex="-1">ğŸ³ Docker éƒ¨ç½² MiaoSpeed <a class="header-anchor" href="#ğŸ³-docker-éƒ¨ç½²-miaospeed" aria-label="Permalink to &quot;ğŸ³ Docker éƒ¨ç½² MiaoSpeed&quot;">â€‹</a></h1><h2 id="ğŸ“¦-docker-é•œåƒ" tabindex="-1">ğŸ“¦ Docker é•œåƒ <a class="header-anchor" href="#ğŸ“¦-docker-é•œåƒ" aria-label="Permalink to &quot;ğŸ“¦ Docker é•œåƒ&quot;">â€‹</a></h2><p>MiaoSpeed æä¾›ä¸¤ä¸ªç‰ˆæœ¬é•œåƒï¼š</p><ul><li><code>latest</code> â†’ ç¨³å®šç‰ˆ</li><li><code>beta</code> â†’ æœ€æ–°æµ‹è¯•ç‰ˆï¼ˆæ¨èï¼‰</li></ul><h3 id="æ‹‰å–é•œåƒ" tabindex="-1">æ‹‰å–é•œåƒ <a class="header-anchor" href="#æ‹‰å–é•œåƒ" aria-label="Permalink to &quot;æ‹‰å–é•œåƒ&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> moshaoli688/miaospeed:latest</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> moshaoli688/miaospeed:beta</span></span></code></pre></div><h3 id="é¢„æ„å»ºé•œåƒ-æ¨èå›½å†…ç”¨æˆ·" tabindex="-1">é¢„æ„å»ºé•œåƒï¼ˆæ¨èå›½å†…ç”¨æˆ·ï¼‰ <a class="header-anchor" href="#é¢„æ„å»ºé•œåƒ-æ¨èå›½å†…ç”¨æˆ·" aria-label="Permalink to &quot;é¢„æ„å»ºé•œåƒï¼ˆæ¨èå›½å†…ç”¨æˆ·ï¼‰&quot;">â€‹</a></h3><p>æˆ‘ä»¬å·²æä¾›é¢„æ„å»ºå¥½çš„ç¦»çº¿é•œåƒï¼Œå¯é€šè¿‡ <code>curl</code> ä¸‹è½½åå¯¼å…¥ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://down.miaospeed.com/containers/miaospeed_amd64_latest.tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/miaospeed.tar.gz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> load</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/miaospeed.tar.gz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/miaospeed.tar.gz</span></span></code></pre></div><blockquote><p>ğŸ“Œ å…¶ä»–æ¶æ„ï¼š</p><ul><li><a href="https://down.miaospeed.com/containers/miaospeed_arm64_latest.tar" target="_blank" rel="noreferrer">miaospeed_arm64_latest.tar</a></li><li><a href="https://down.miaospeed.com/containers/miaospeed_arm_latest.tar" target="_blank" rel="noreferrer">miaospeed_arm_latest.tar</a></li></ul></blockquote><hr><h2 id="âš™ï¸-ç¯å¢ƒå˜é‡" tabindex="-1">âš™ï¸ ç¯å¢ƒå˜é‡ <a class="header-anchor" href="#âš™ï¸-ç¯å¢ƒå˜é‡" aria-label="Permalink to &quot;âš™ï¸ ç¯å¢ƒå˜é‡&quot;">â€‹</a></h2><p>å¯ç”¨çš„ç¯å¢ƒå˜é‡å¦‚ä¸‹ï¼š</p><table tabindex="0"><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>MIAOSPEED_META</code></td><td>å¯ç”¨ METAï¼Œé»˜è®¤ä¸è®¾ç½®å³å¯</td></tr><tr><td><code>MIAOSPEED_MTLS</code></td><td>å¯ç”¨ mTLSï¼Œå€¼ä¸º <code>1</code></td></tr><tr><td><code>MIAOSPEED_TOKEN</code></td><td>éªŒè¯ Token</td></tr><tr><td><code>MIAOSPEED_PATH</code></td><td>è®¾ç½® WebSocket è·¯å¾„ï¼ˆä»…é™ beta ç‰ˆï¼‰</td></tr><tr><td><code>MIAOSPEED_WHITELIST</code></td><td>ç™½åå•ï¼Œæ ¼å¼ï¼š<code>1111,2222,3333</code></td></tr><tr><td><code>MIAOSPEED_NOSPEED</code></td><td>ç¦æ­¢æµ‹é€Ÿï¼Œå€¼ä¸º <code>1</code></td></tr><tr><td><code>MIAOSPEED_CONNTHREAD</code></td><td>çº¿ç¨‹æ± å¤§å°ï¼Œé»˜è®¤ 64ï¼›ä½å†…å­˜å»ºè®® â‰¤32</td></tr><tr><td><code>MIAOSPEED_MMDB</code></td><td>å¯ç”¨ MMDB</td></tr></tbody></table><hr><h2 id="ğŸš€-ä¸€é”®éƒ¨ç½²" tabindex="-1">ğŸš€ ä¸€é”®éƒ¨ç½² <a class="header-anchor" href="#ğŸš€-ä¸€é”®éƒ¨ç½²" aria-label="Permalink to &quot;ğŸš€ ä¸€é”®éƒ¨ç½²&quot;">â€‹</a></h2><p>æˆ‘ä»¬æä¾›äº† <strong>ä¸€é”®éƒ¨ç½²è„šæœ¬</strong>ï¼Œä¼šè‡ªåŠ¨æ‹‰å–é•œåƒå¹¶è¿è¡Œï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://sh.msl.la/docker/install-lite.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --net=host</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port=20221</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --token=ä½ çš„token</span></span></code></pre></div><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>--net=host|bridge</code> â†’ ç½‘ç»œæ¨¡å¼ï¼ˆé»˜è®¤ hostï¼‰</li><li><code>--port=20221</code> â†’ å®¹å™¨å¯¹å¤–æš´éœ²ç«¯å£</li><li><code>--token=xxx</code> â†’ æŒ‡å®š Tokenï¼ˆä¸å¡«è‡ªåŠ¨ç”Ÿæˆï¼‰</li><li><code>--path=/usr/local/bin/miaospeed</code> â†’ è‡ªå®šä¹‰è·¯å¾„ï¼ˆå¯é€‰ï¼‰</li></ul><hr><h2 id="ğŸ–-æ‰‹å·¥éƒ¨ç½²" tabindex="-1">ğŸ– æ‰‹å·¥éƒ¨ç½² <a class="header-anchor" href="#ğŸ–-æ‰‹å·¥éƒ¨ç½²" aria-label="Permalink to &quot;ğŸ– æ‰‹å·¥éƒ¨ç½²&quot;">â€‹</a></h2><h3 id="docker-run" tabindex="-1">Docker Run <a class="header-anchor" href="#docker-run" aria-label="Permalink to &quot;Docker Run&quot;">â€‹</a></h3><p>é»˜è®¤ç«¯å£ï¼š<code>9966</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9966:9966</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --name=miaospeed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --restart=always</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MIAOSPEED_MTLS=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MIAOSPEED_TOKEN=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ä½ çš„toke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  moshaoli688/miaospeed:beta</span></span></code></pre></div><h3 id="docker-compose" tabindex="-1">Docker Compose <a class="header-anchor" href="#docker-compose" aria-label="Permalink to &quot;Docker Compose&quot;">â€‹</a></h3><p>é»˜è®¤ç«¯å£ï¼š<code>9966</code></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  miaospeed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">moshaoli688/miaospeed:beta</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;9966:9966&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TZ=Asia/Shanghai</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MIAOSPEED_META=1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MIAOSPEED_MTLS=1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MIAOSPEED_WHITELIST=1111,2222,3333</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    mem_limit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2048m</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    logging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      driver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">json-file</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        max-size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;200m&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        max-file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3&#39;</span></span></code></pre></div><p>å¯åŠ¨ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><hr><h2 id="ğŸ› -æ›´æ–°-mmdb" tabindex="-1">ğŸ›  æ›´æ–° MMDB <a class="header-anchor" href="#ğŸ› -æ›´æ–°-mmdb" aria-label="Permalink to &quot;ğŸ›  æ›´æ–° MMDB&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> miaospeed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./miaospeed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> misc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -maxmind-update-license</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ä½ çš„key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> miaospeed</span></span></code></pre></div>`,33)]))}const F=i(n,[["render",h]]);export{c as __pageData,F as default};
